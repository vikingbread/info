22:37 2012-9-12
    昨天晚上想跟网站添加一个添加用户的功能。想让卡号直接由下位机读上来。然后问题来了，我实现的下位机
是通过webservice提交数据的。是单工的，我不能向下面发数据。悲剧~~~
想来想去。我不可能用js实现这个功能。。。头大~~~

    于是我想到了一个“曲线救国”的策略！我要推翻以前的webservice提交！我要用socket。下位机启动后连接
服务器。服务器记下下位机的ip和socket。然后我在网页提交读卡请求的时候。同过ajax访问web服务器，服
务器根据我的Ip地址查询到对应socket。用socket发送读卡号请求。下位机收到读卡指令后。上传卡号！bingo
听起来不错。于是今天就尝试的实现。真是说起来容易做起来难。今天用了整整一天时间才把socket通信的
实现。明天还得继续！

22:20 2012-9-14
    尝试了不少方法，也用了不少方法。但是还是没把用socket通信弄好。问题在于我在向下位机请求卡号的时候，
如果等待超时的话。让Tcp连接超时断开后。用socket再次连接的话会读不到数据(可能方法不对，但是这资料也太少了吧)。
貌似是读的线程挂掉了。查api、查网上的例程。于是我尝试着让读数据再另外一个线程中进行。然后让另一个timer线程来计时，
让其超时自动中断。还是不行。。伤~~没办法只能识别的方法。于是我才发现自己有多么想不明白了。现有的已经能满足需求了。额~~

    我可以在每次下位机主动向我发送信息的时候将其卡号缓存起来。因为每次卡片放到下位机到时候，可以让他立即
把卡号发送到服务器。我再去取的时候。应为卡号已经被缓存了。当然可以立即取到了。。。这样我又回到了原来的套路！

22:08 2012-9-17
    今天把设计的要求达到了。现在想想这个项目也花了我不少时间。在不断学习的同时，也发现了自己的不足。js
掌握的很不好。花了很多时间去调试，才能调通。这里不得不说的是firefox神器啊！不是她的话。这个js我看我是调不好了。呵呵！其实这个项目还有很多不完善的地方。实现的接口中很多的方法都不够严谨，没有考虑到特殊的情况。
这个问题还亟待解决。这几天我将试着完善程序、消灭bug。

20:22 2012-9-19
    这几天修改了下程序。尝试自己实现UserServiceDetail，感觉不错。但是还是有些问题不能很好的解决。那个
ibatis一对一在存的时候，还不知道怎么弄！配置文件配不好。找了下上的资料。大多都是讲取的时候的配置
resultMap怎么配。有讲parameterMap的但是死活看不明白。不管了先。先放放过段时间肯定能解决（这招屡试不爽）
呵呵~~~接着还有好多事要办。Come On!